---
plugin: networktocode.nautobot.inventory
api_endpoint: !env NAUTOBOT_URL
token: !env NAUTOBOT_TOKEN
validate_certs: true

query:
  devices:
    name:
    primary_ip4:
      host:
    platform:
      name:
      napalm_driver:
    device_role:
      name:
      slug:
    site:
      name:
      slug:
    status:
      value:

group_by:
  - device_roles
  - platforms
  - status

compose:
  ansible_host: primary_ip4.host | default(primary_ip6.host)
  ansible_network_os: platform.napalm_driver
